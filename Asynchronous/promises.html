<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body{
            height: 100vh;
            width: 100%;
            background-color: #333;
        }
    </style>
</head>
<body>
    


    <script>

        let stocks = {
            Fruits: ["Strauberry","Grapes", " Banana", "Apple"],
            Holder : ["Cone", "Cup", "Stick"],
            topping : ["Chocolate", "Sprinkle"],
            liquid: ["Water", "Ice"]
        }

        let isShopOpen = true;

        

        let order = (time, work)=>{
            return new Promise ((resolve, reject)=>{
                if (isShopOpen) {

                    setTimeout(() => {
                        resolve(work())
                    }, time);
                }
                else{
                    reject(console.log("Our shop is closed"));
                }
            })
        }
        order(2000, () => console.log(`${stocks.Fruits[1]} was selected`))
        .then(()=>{
            return order(0000, ()=> console.log("Production has started"))
        })
        
        .then(()=>{
            return order(2000, ()=> console.log("The fruits was chopped"))
        })
        .then(()=>{
            return order(1000, ()=> console.log(`The ${stocks.liquid[0]} and ${stocks.liquid[1] } was added`))
        })
        .then(()=>{
            return order(1000 , ()=> console.log(`The Machine has started`))
        })
        .then(()=>{
            return order(2000, ()=> console.log(`${stocks.Holder[0]} is selected as a holder`))
        })

        .then(()=>{
            return order(3000, ()=> console.log(`${stocks.topping[1]} was used as a topping`))
        })

        .then(()=>{
            return order(2000 , ()=> console.log("Here is your Ice cream") )
        })
        .catch(()=>{
            console.log("The customer left");
            
        })
        .finally(()=>{
            console.log("The day ended , the shop is closed");
            
        })

         
    </script>
</body>
</html>